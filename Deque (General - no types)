#include <stdio.h>
#define SIZE 10

int deque[SIZE];
int left = -1, right = -1;

void insert_left()
{
    int val;
    printf("\nEnter the value to be added:");
    scanf("%d",&val);

    if (left == (right+1)%SIZE) // right is immediately behind left
        printf("Overflow!\n"); return;

    if (left == -1) // empty
        left =right = 0;

    else
        left = (left-1+SIZE)%SIZE; // following circular queue condition

    deque[left] = val;
    printf("Inserted at left\n");
}

void insert_right(i)
{
    int val;
    printf("\nEnter the value to be added:");
    scanf("%d",&val);

    if (left == (right+1)%SIZE) // right is immediately behind left
        printf("Overflow!\n"); return;

    if (left == -1) // empty
        left =right = 0;

    else
        right = (right+1)%SIZE;

    deque[right] = val;
    printf("Inserted at right\n");
}

void delete_left()
{
    if (left == -1)
        printf("Underflow!\n"); return;

    printf("Deleted from left: %d\n", deque[left]);

    if (left == right) // Queue has only one element
        leftt = right = -1;

    else
        left = (left+1)%SIZE;
}

void delete_right()
{
    if (left == -1)
        printf("Underflow!\n"); return;

    printf("Deleted from right: %d\n", deque[right]);

    if (left == right) // Queue has only one element
        leftt = right = -1;

    else
        right = (right-1+SIZE)%SIZE;
}

void display()
{
    if (left == -1)
        printf("Empty!\n"); return;

    printf("Deque elements: \n");

    int i;
    for(i=left; i!=right; i=(i+1)%SIZE)
        printf("%d",deque[i]);

    printf("\n%d\n",deque[i]);
}

int main()
{
    int choice;

    d0{
    printf("\n1.Insert at left\n2.Insert at right\n3.Delete from left\n4.Delete from right\n5.Display\n6.Exit");
    printf("\n\nEnter your choice:");
    scanf("%d",&choice);

    switch(choice)
    {
        case 1:insert_left();
        break;

        case 2:insert_right();
        break;

        case 3:delete_left();
        break;

        case 4:delete_right;
        break;

        case 5:display();
        break;
    }
    }while(choice!=6);
    getch();
    return 0;
}

